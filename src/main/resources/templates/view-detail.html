<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	data-th-replace="~{layouts/layout :: layout-filmotheque( 
					titrePage=~{:: title},
					contenuPage=~{:: main},
					ressourcesSupp=~{:: #ressources-css})}">

<head>
<title>Detail</title>
<th:block id="ressources-css">
	<link rel="stylesheet" data-th-href="@{/css/tp-detail.css}">
</th:block>

</head>
<body>
	<main>
		<div class="cardDetail">
			<h1>Détail du produit</h1>
			<h2 th:text="${article.nom}">Nom Article</h2>
			<p>
				<strong>Description:</strong> <span th:text="${article.description}">Description</span>
			</p>
			<p>
				<strong>Categorie:</strong> <span
					th:text="${article.categorie.libelle}">Categorie</span>
			</p>
			<p>
				<strong>Meilleure offre:</strong> <span
					th:text="${enchere.Montant} + ' € (' + ${enchere.utilisateur.pseudo} + ')'">MeilleureOffre</span>
			</p>
			<th:block
				sec:authorize="not (hasRole('ROLE_MEMBRE') or hasRole('ROLE_ADMIN'))">
				<p class= "info">Connectez-vous pour enchérir !</p>
			</th:block>
			<p>
				<strong>Mise à prix:</strong> <span
					th:text="${article.miseAPrix} + ' €'">Prix</span>
			</p>
			<p>
				<strong>Fin de l'enchère:</strong> <span th:text="${article.fin}">Fin</span>
			</p>
			<p>
				<strong>Retrait:</strong> <span
					th:text="${retrait.rue} + '  ' + ${retrait.codePostal} + ' ' + ${retrait.ville}">Vendeur</span>
			</p>
			<p sec:authorize="hasRole('ROLE_MEMBRE') OR hasRole('ROLE_ADMIN')">
					<strong>Vendeur:</strong> 
					  <a data-th-href="@{/profilOther(noUtilisateur=${article.vendeur.noUtilisateur})}">
					<span th:text="${article.vendeur.pseudo}">Vendeur</span>	
					</a>				
				</p>
				
				<p sec:authorize="!hasRole('ROLE_MEMBRE') AND !hasRole('ROLE_ADMIN')">
				<strong>Vendeur:</strong> <span th:text="${article.vendeur.pseudo}">Vendeur</span>
				</p>
					
				
			
			<th:block
				sec:authorize="hasRole('ROLE_MEMBRE') OR hasRole('ROLE_ADMIN')">
				<form>
					<p>
						<strong>Enchérir:</strong> <span><input type="number"
							id="nouvelleEnchere" th:field="*{enchere.Montant}" required></span>
					</p>
				</form>
			</th:block>
		</div>
	</main>
</body>
</html>


